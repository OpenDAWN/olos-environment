<!--
-->
<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <title>olos-environment</title>

  <script src="../webcomponentsjs/webcomponents.js"></script>
  <link href="../olos-oscillator/olos-oscillator.html" rel="import">
  <link href="../olos-destination/olos-destination.html" rel="import">
  <link href="../olos-envelope/olos-envelope.html" rel="import">
  <link href="../olos-analyser/olos-analyser.html" rel="import">
  <link href="../olos-code-editor/olos-code-editor.html" rel="import">
  <link href="../olos-matrix/olos-matrix.html" rel="import">

  <link href="../paper-input/paper-input.html" rel="import">
  <link href="olos-environment.html" rel="import">

</head>
<body unresolved>

  <olos-environment>
  </olos-environment>

</body>
<script>
var audioContext = new AudioContext();

var environment;

function DOMContentLoaded() {
  environment = document.querySelector('olos-environment');
  environmentReady();
}

document.addEventListener( "DOMContentLoaded", DOMContentLoaded, false );

// TO DO: make this work on firefox
function environmentReady() {
  console.log(environment);
  environment.addElement('olos-oscillator', 1000, 100);
  environment.addElement('olos-envelope');
  // environment.addElement('olos-analyser');
  // environment.addElement('olos-code-editor');
  environment.addElement('olos-destination', 1000, 100);
  environment.addElement('olos-matrix');

  console.log('envi ready!');
}

</script>
</html>